{
  "name": "horizon-backend-workspace",
  "private": true,
  "workspaces": [
    "shared",
    "main-api",
    "wallet-listener"
  ],
  "scripts": {
    "build": "npm run build -ws --if-present",
    "test": "npm run test -ws --if-present",
    "test:main-api": "npm run test -w main-api",
    "test:listener": "npm run test -w wallet-listener",
    "test:shared": "npm run test -w @horizon/shared",
    "test:coverage": "npm run test:coverage -ws --if-present",
    "dev:main-api": "npm run build -w @horizon/shared && npm run dev -w main-api",
    "dev:listener": "npm run build -w @horizon/shared && npm run dev -w wallet-listener",
    "dev:redis": "docker start redis 2>&1 || docker run -d --name redis -p 6379:6379 redis:alpine",
    "dev:all": "npm run dev:redis && npm run build -w @horizon/shared && concurrently \"npm run dev -w main-api\" \"npm run dev -w wallet-listener\"",
    "image:main-api": "docker build -f main-api/Dockerfile -t horizon-main-api .",
    "image:listener": "docker build -f wallet-listener/Dockerfile -t horizon-wallet-listener .",
    "image:all": "npm run image:main-api && npm run image:listener"
  },
  "devDependencies": {
    "concurrently": "^9.1.0"
  }
}
